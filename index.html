<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Sleep Score</title>

<style>
  :root {
    --bg: #ffffff;
    --card: #f5f5f5;
    --text: #111111;
    --accent: #2563eb;
    --border: #e5e5e5;
  }

  * {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  }

  body {
    background: var(--bg);
    min-height: 100vh;
    display: flex;
    justify-content: center;   /* center horizontally */
    align-items: center;       /* center vertically */
    padding: 20px;
  }

  .container {
    width: 100%;
    max-width: 420px;
  }

  h1 {
    font-size: 28px;
    text-align: center;
    margin-bottom: 6px;
    font-weight: 600;
  }

  .sub {
    text-align: center;
    font-size: 14px;
    color: #666;
    margin-bottom: 22px;
  }

  .card {
    background: var(--card);
    padding: 18px;
    border-radius: 12px;
    border: 1px solid var(--border);
  }

  label {
    display: block;
    font-size: 14px;
    margin-bottom: 6px;
    color: #333;
  }

  input {
    width: 100%;
    padding: 10px 12px;
    border: 1px solid var(--border);
    border-radius: 8px;
    margin-bottom: 14px;
    font-size: 16px;
    background: white;
  }

  input:focus {
    border-color: var(--accent);
    outline: none;
  }

  button {
    width: 100%;
    padding: 12px;
    background: var(--accent);
    color: white;
    border: none;
    border-radius: 10px;
    font-size: 16px;
    font-weight: 600;
    margin-top: 8px;
    cursor: pointer;
  }

  button:hover {
    background: #1e40af;
  }

  .result-box {
    margin-top: 16px;
    padding: 16px;
    background: #ffffff;
    border-radius: 12px;
    border: 1px solid var(--border);
    display: none;
  }

  .row {
    display: flex;
    justify-content: space-between;
    margin-bottom: 10px;
    font-size: 15px;
  }

  .status {
    text-align: center;
    font-size: 18px;
    margin-top: 12px;
    font-weight: 600;
  }

  .good {
    color: #16a34a;
  }

  .bad {
    color: #dc2626;
  }

  /* Small screens */
  @media (max-width: 380px) {
    h1 { font-size: 22px; }
    .sub { font-size: 13px; }
    input { font-size: 15px; }
    button { font-size: 15px; }
  }
</style>
</head>

<body>

<div class="container">

  <h1>Sleep Score</h1>
  <p class="sub">Calculate sleep duration + quality score</p>

  <div class="card">

    <label>Hours slept</label>
    <input 
      type="number"
      id="hours"
      min="0"
      max="24"
      step="0.5"
      inputmode="decimal"
      pattern="[0-9.]*"
      value="7"
    >

    <label>Minutes</label>
    <input 
      type="number"
      id="minutes"
      min="0"
      max="59"
      step="1"
      inputmode="numeric"
      pattern="[0-9]*"
      value="0"
    >

    <label>Sleep quality (0–100)</label>
    <input 
      type="number"
      id="quality"
      min="0"
      max="100"
      step="1"
      inputmode="numeric"
      pattern="[0-9]*"
      value="80"
    >

    <button onclick="calculate()">Calculate</button>

    <div id="result" class="result-box">
      <div class="row">
        <span>Duration score</span>
        <span id="durationScore">–</span>
      </div>

      <div class="row">
        <span>Quality score</span>
        <span id="qualityScore">–</span>
      </div>

      <div class="row">
        <span style="font-weight:600;">Final score</span>
        <span id="finalScore" style="font-weight:600;">–</span>
      </div>

      <div id="statusText" class="status"></div>
    </div>

  </div>
</div>

<script>
  function sleepPoints(hours, minutes) {
    const h = hours + minutes / 60;
    const scale = [
      [3, 0], [4, 25], [5, 50], [6, 75], [7, 100],
      [8, 100], [9, 75], [10, 50], [11, 25], [12, 0]
    ];

    if (h <= 3 || h >= 12) return 0;

    for (let i = 0; i < scale.length - 1; i++) {
      const [h1, p1] = scale[i];
      const [h2, p2] = scale[i + 1];
      if (h >= h1 && h <= h2) {
        return p1 + ((h - h1) / (h2 - h1)) * (p2 - p1);
      }
    }
    return 0;
  }

  function qualityPoints(q) {
    if (q < 0) q = 0;
    if (q > 100) q = 100;
    return q;
  }

  function calculate() {
    const hours = parseFloat(document.getElementById("hours").value) || 0;
    const minutes = parseFloat(document.getElementById("minutes").value) || 0;
    const quality = parseFloat(document.getElementById("quality").value) || 0;

    const duration = Math.round(sleepPoints(hours, minutes) * 100) / 100;
    const qscore = qualityPoints(quality);
    const final = Math.round(((duration + qscore) / 2) * 100) / 100;

    document.getElementById("durationScore").textContent = duration + " / 100";
    document.getElementById("qualityScore").textContent = qscore + " / 100";
    document.getElementById("finalScore").textContent = final + " / 100";

    const status = document.getElementById("statusText");
    if (final >= 80) {
      status.textContent = "Great sleep ✓";
      status.className = "status good";
    } else {
      status.textContent = "Needs improvement ✗";
      status.className = "status bad";
    }

    document.getElementById("result").style.display = "block";
  }
</script>

</body>
</html>
